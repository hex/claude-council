{"id":"claude-council-2tw","title":"Provider Status Command - check API keys and connectivity","description":"## Provider Status Command\n\nCheck API keys, test connectivity, and show provider health.\n\n### Implementation\n1. New command: /claude-council:status\n2. For each provider: validate API key format, make test request, show response time\n3. Display rate limit info if available\n4. Show configured model for each provider\n\n### Usage\n```bash\n/claude-council:status\n```\n\n### Output Example\n```\nProvider Status:\nğŸ”µ Gemini    âœ“ Connected (gemini-3-flash-preview)     142ms\nâšª OpenAI    âœ“ Connected (codex-mini-latest)          89ms  \nğŸ”´ Grok      âœ— API key not set\n\nRate Limits:\n- Gemini: 60 req/min (52 remaining)\n- OpenAI: 500 req/min (498 remaining)\n```\n\n### Value\n- Debug connectivity issues quickly\n- Verify configuration before querying\n- Monitor rate limit status","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T10:01:06.037332+02:00","updated_at":"2025-12-18T10:17:03.703769+02:00","closed_at":"2025-12-18T10:17:03.703769+02:00","close_reason":"Added /claude-council:status command. Shows connection status, response times, and configured models for all providers."}
{"id":"claude-council-4v6","title":"Implement output formatter script","description":"Create format-output.sh that takes JSON responses and outputs formatted terminal display with boxes, colors, provider names. Deterministic formatting, not LLM-dependent.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T11:25:14.04401+02:00","updated_at":"2025-12-18T11:38:53.716605+02:00","closed_at":"2025-12-18T11:38:53.716605+02:00","close_reason":"Created scripts/format-output.sh with: draw_header for providers with color/emoji/model/role, draw_synthesis_header, quiet mode support (skips responses), debate mode support (round headers + rebuttals). Reads JSON from stdin or file."}
{"id":"claude-council-6u8","title":"Phase 3: Detailed Design","description":"Specify each component, resolve ambiguities with hex","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:41:16.687644+02:00","updated_at":"2025-12-17T21:51:13.136094+02:00","closed_at":"2025-12-17T21:51:13.136094+02:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-council-6u8","depends_on_id":"claude-council-9vj","type":"blocks","created_at":"2025-12-17T21:41:58.670334+02:00","created_by":"hex"}]}
{"id":"claude-council-8d8","title":"Debate Mode - providers critique each other's responses","description":"## Debate Mode\n\nRound 2 interaction where providers see and critique each other's responses.\n\n### Implementation\n1. After initial query, compile all responses\n2. Send follow-up: 'Here are other perspectives on this question: [responses]. What are the strengths and weaknesses of each approach? What did others miss?'\n3. Present round 2 responses with 'REBUTTAL' header boxes\n4. Update synthesis to include debate insights\n\n### Usage\n```bash\n/claude-council:ask --debate \"How should I structure authentication?\"\n```\n\n### Value\n- Surfaces blind spots in individual responses\n- Stress-tests recommendations\n- Provides more nuanced final synthesis","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T10:00:32.247158+02:00","updated_at":"2025-12-18T11:00:45.94904+02:00","closed_at":"2025-12-18T11:00:45.94904+02:00","close_reason":"Added --debate flag with two-round discussions and rebuttals"}
{"id":"claude-council-9vj","title":"Phase 2: Component Planning","description":"Determine plugin components: skills, commands, agents, settings","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:41:10.047841+02:00","updated_at":"2025-12-17T21:49:06.355467+02:00","closed_at":"2025-12-17T21:49:06.355467+02:00","close_reason":"Closed"}
{"id":"claude-council-a7f","title":"Implement role injection in bash","description":"Load roles from config/roles.json. Inject role prompts into provider API calls. Handle presets (balanced, security-focused, etc). Output role assignments in JSON.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T11:25:00.876408+02:00","updated_at":"2025-12-18T11:35:09.278719+02:00","closed_at":"2025-12-18T11:35:09.278719+02:00","close_reason":"Created lib/roles.sh with preset expansion, validation, and prompt injection. Integrated into query-council.sh. Cache key includes role-injected prompt. Output includes role per provider."}
{"id":"claude-council-apy","title":"Create claude-council plugin - multi-agent consultation","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-17T21:40:53.264304+02:00","updated_at":"2025-12-17T21:58:31.601709+02:00","closed_at":"2025-12-17T21:58:31.601709+02:00","close_reason":"Plugin complete with all components implemented and tested"}
{"id":"claude-council-eji","title":"Phase 7: Testing","description":"Test plugin functionality with real API calls","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:41:43.831995+02:00","updated_at":"2025-12-17T21:58:13.448054+02:00","closed_at":"2025-12-17T21:58:13.448054+02:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-council-eji","depends_on_id":"claude-council-j5m","type":"blocks","created_at":"2025-12-17T21:42:19.217819+02:00","created_by":"hex"}]}
{"id":"claude-council-ex4","title":"Export to File - save formatted output to markdown","description":"## Export to File\n\nSave formatted council output to a markdown file.\n\n### Implementation\n1. Add --output=\u003cpath\u003e flag to ask command\n2. Write full formatted output (headers, responses, synthesis) to file\n3. Strip ANSI color codes for clean markdown\n4. Include metadata header (timestamp, providers, models)\n\n### Usage\n```bash\n/claude-council:ask --output=docs/auth-decision.md \"How should we implement auth?\"\n```\n\n### Output Format\n```markdown\n# Council Response: How should we implement auth?\nDate: 2025-12-18\nProviders: Gemini (gemini-3-flash), OpenAI (codex-mini-latest)\n\n## Gemini Response\n...\n\n## OpenAI Response\n...\n\n## Synthesis\n...\n```\n\n### Value\n- Documentation of architectural decisions\n- Shareable with team members\n- Audit trail for decision-making","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T10:00:59.397814+02:00","updated_at":"2025-12-18T10:45:49.254147+02:00","closed_at":"2025-12-18T10:45:49.254147+02:00","close_reason":"Implemented --output flag for markdown export"}
{"id":"claude-council-fwm","title":"Response Caching - cache by prompt hash","description":"## Response Caching\n\nCache provider responses by prompt hash to avoid redundant API calls.\n\n### Implementation\n1. Hash prompt + provider + model to create cache key\n2. Store responses in .claude/council-cache/ with TTL\n3. Add --no-cache flag to force fresh queries\n4. Add --cache-only to use only cached responses\n\n### Cache Structure\n```\n.claude/council-cache/\n  \u003chash\u003e.json  # {prompt, provider, model, response, timestamp}\n```\n\n### Usage\n```bash\n/claude-council:ask \"question\"           # Uses cache if available\n/claude-council:ask --no-cache \"question\" # Force fresh query\n```\n\n### Value\n- Faster re-runs during iteration\n- Cost savings on repeated queries\n- Useful for re-synthesizing without re-querying","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-18T10:00:52.589776+02:00","updated_at":"2025-12-18T10:53:30.59133+02:00","closed_at":"2025-12-18T10:53:30.59133+02:00","close_reason":"Implemented caching with SHA-256 hash keys and TTL"}
{"id":"claude-council-icr","title":"Retry Logic - auto-retry on transient failures","description":"## Retry Logic\n\nAutomatically retry on transient failures.\n\n### Implementation\n1. Detect retryable errors (429 rate limit, 500/502/503 server errors, network timeouts)\n2. Exponential backoff: 1s, 2s, 4s (max 3 retries)\n3. Non-retryable errors fail immediately (401 auth, 400 bad request)\n4. Show retry attempts in debug mode\n\n### Configuration\n```bash\nexport COUNCIL_MAX_RETRIES=3\nexport COUNCIL_RETRY_DELAY=1  # initial delay in seconds\n```\n\n### Retryable Errors\n- 429 Too Many Requests\n- 500 Internal Server Error\n- 502 Bad Gateway\n- 503 Service Unavailable\n- Connection timeout\n- DNS resolution failure\n\n### Value\n- More resilient to transient API issues\n- Automatic handling of rate limits\n- Fewer failed queries","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T10:01:19.685184+02:00","updated_at":"2025-12-18T10:09:27.840884+02:00","closed_at":"2025-12-18T10:09:27.840884+02:00","close_reason":"Implemented retry logic with exponential backoff in scripts/lib/retry.sh. All providers now use curl_with_retry. Configurable via COUNCIL_MAX_RETRIES and COUNCIL_RETRY_DELAY."}
{"id":"claude-council-j5m","title":"Phase 6: Validation","description":"Run plugin-validator, ensure quality standards","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:41:37.69826+02:00","updated_at":"2025-12-17T21:57:31.547063+02:00","closed_at":"2025-12-17T21:57:31.547063+02:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-council-j5m","depends_on_id":"claude-council-wpe","type":"blocks","created_at":"2025-12-17T21:42:14.083879+02:00","created_by":"hex"}]}
{"id":"claude-council-jkc","title":"Add full argument parsing to query-council.sh","description":"Parse all flags in bash: --file, --roles, --debate, --output, --quiet, --no-auto-context. Validate flags, reject invalid ones. Return structured JSON with parsed args.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T11:24:54.307233+02:00","updated_at":"2025-12-18T11:32:19.80096+02:00","closed_at":"2025-12-18T11:32:19.80096+02:00","close_reason":"Added parsing for --file, --roles, --debate, --output, --quiet, --no-auto-context. Added validation. Output now includes metadata wrapper."}
{"id":"claude-council-kpn","title":"Context Auto-Injection - detect and include relevant files","description":"## Context Auto-Injection\n\nAutomatically detect and include relevant files based on the question.\n\n### Implementation\n1. Parse question for keywords (function names, file patterns, concepts)\n2. Search codebase for matching files using grep/glob\n3. Include top N most relevant files (configurable)\n4. Show user which files were auto-included\n\n### Usage\n```bash\n/claude-council:ask \"How should I refactor the authentication flow?\"\n# Auto-detects and includes: src/auth/*.ts, middleware/auth.ts, etc.\n```\n\n### Heuristics\n- Mentioned file/function names â†’ exact match\n- Domain keywords (auth, database, api) â†’ search imports/filenames\n- Limit context to avoid token bloat (max 5 files or 10k tokens)\n\n### Value\n- Reduces manual --file= flags\n- Ensures relevant context is included\n- Smarter queries with less user effort","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T10:00:45.789527+02:00","updated_at":"2025-12-18T10:56:02.956563+02:00","closed_at":"2025-12-18T10:56:02.956563+02:00","close_reason":"Added auto-context injection with keyword detection and limits"}
{"id":"claude-council-orq","title":"Phase 4: Plugin Structure","description":"Create directory structure and plugin.json manifest","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:41:24.06552+02:00","updated_at":"2025-12-17T21:53:02.383173+02:00","closed_at":"2025-12-17T21:53:02.383173+02:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-council-orq","depends_on_id":"claude-council-6u8","type":"blocks","created_at":"2025-12-17T21:42:03.812662+02:00","created_by":"hex"}]}
{"id":"claude-council-p0o","title":"Simplify ask.md to synthesis-only","description":"Reduce ask.md to: 1) Call query-council.sh with all flags 2) Call format-output.sh for display 3) Generate synthesis using Claude (the only LLM task) 4) Call export if --output specified","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T11:25:20.382833+02:00","updated_at":"2025-12-18T11:40:03.706932+02:00","closed_at":"2025-12-18T11:40:03.706932+02:00","close_reason":"Reduced ask.md from 387 to 105 lines. Claude now only: 1) Auto-context detection 2) Call scripts 3) Generate synthesis. All deterministic features moved to bash scripts.","dependencies":[{"issue_id":"claude-council-p0o","depends_on_id":"claude-council-jkc","type":"blocks","created_at":"2025-12-18T11:25:33.80087+02:00","created_by":"hex"},{"issue_id":"claude-council-p0o","depends_on_id":"claude-council-a7f","type":"blocks","created_at":"2025-12-18T11:25:38.956204+02:00","created_by":"hex"},{"issue_id":"claude-council-p0o","depends_on_id":"claude-council-wyo","type":"blocks","created_at":"2025-12-18T11:25:44.109382+02:00","created_by":"hex"},{"issue_id":"claude-council-p0o","depends_on_id":"claude-council-4v6","type":"blocks","created_at":"2025-12-18T11:25:49.256679+02:00","created_by":"hex"}]}
{"id":"claude-council-s51","title":"Quiet Mode - show only synthesis, hide individual responses","description":"## Quiet Mode\n\nShow only synthesis, hide individual provider responses.\n\n### Implementation\n1. Add --quiet or -q flag to ask command\n2. Still query all providers normally\n3. Only display synthesis section in output\n4. Full responses available with --verbose if needed\n\n### Usage\n```bash\n/claude-council:ask --quiet \"What's the best caching strategy?\"\n```\n\n### Output (quiet mode)\n```\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘  âš¡ SYNTHESIS                                                                â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[Consensus table and recommendations only]\n```\n\n### Value\n- Faster to read when you just want the bottom line\n- Less overwhelming for simple questions\n- Still benefits from multi-provider analysis","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-12-18T10:01:26.573135+02:00","updated_at":"2025-12-18T10:50:27.245792+02:00","closed_at":"2025-12-18T10:50:27.245792+02:00","close_reason":"Added --quiet flag for synthesis-only output"}
{"id":"claude-council-tue","title":"Refactor council to robust implementation","description":"Move features from ask.md prompt-based implementation to deterministic bash code. Currently features like --roles, --debate, --output, --quiet rely on Claude interpreting markdown instructions. Refactor to: 1) Bash handles arg parsing, formatting, debate rounds 2) Claude only does synthesis (the one thing that needs LLM)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T11:24:16.62019+02:00","updated_at":"2025-12-18T11:40:08.85688+02:00","closed_at":"2025-12-18T11:40:08.85688+02:00","close_reason":"All subtasks complete. Features moved from prompt-based to code-based implementation.","dependencies":[{"issue_id":"claude-council-tue","depends_on_id":"claude-council-p0o","type":"blocks","created_at":"2025-12-18T11:25:54.409417+02:00","created_by":"hex"}]}
{"id":"claude-council-wom","title":"Timeout Handling - prevent slow providers from blocking","description":"## Timeout Handling\n\nPrevent slow providers from blocking the entire query.\n\n### Implementation\n1. Add configurable timeout per provider (default 30s)\n2. Use curl --max-time or background jobs with timeout\n3. If provider times out, continue with others\n4. Show timeout warning in output\n\n### Configuration\n```bash\nexport COUNCIL_TIMEOUT=30  # seconds per provider\n```\n\n### Behavior\n- Provider exceeds timeout â†’ mark as failed, continue with others\n- Show warning: 'âš ï¸ Grok timed out after 30s'\n- Include partial response if available\n\n### Value\n- One slow/hung provider doesn't block everything\n- More reliable parallel queries\n- Better user experience","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T10:01:12.812267+02:00","updated_at":"2025-12-18T10:14:31.461915+02:00","closed_at":"2025-12-18T10:14:31.461915+02:00","close_reason":"Added COUNCIL_TIMEOUT (default 60s) to retry library. Timeouts return error JSON and fail fast (no retry) to prevent blocking."}
{"id":"claude-council-wpe","title":"Phase 5: Component Implementation","description":"Build all components: providers, command, agent, settings","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T21:41:30.3724+02:00","updated_at":"2025-12-17T21:55:53.912507+02:00","closed_at":"2025-12-17T21:55:53.912507+02:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-council-wpe","depends_on_id":"claude-council-orq","type":"blocks","created_at":"2025-12-17T21:42:08.956569+02:00","created_by":"hex"}]}
{"id":"claude-council-wyo","title":"Implement debate mode in bash","description":"Two-round query execution: Round 1 collects initial responses, Round 2 sends all responses back for critique. Output structured JSON with both rounds.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T11:25:07.617569+02:00","updated_at":"2025-12-18T11:37:22.83131+02:00","closed_at":"2025-12-18T11:37:22.83131+02:00","close_reason":"Implemented two-round debate mode. Round 2 compiles all round 1 responses and asks each provider to critique. Rebuttals run in parallel without cache. Output includes both round1 and round2 objects."}
{"id":"claude-council-ygi","title":"Specialized Roles - assign personas to providers","description":"## Specialized Roles\n\nAssign different personas/perspectives to each provider.\n\n### Implementation\n1. Add --roles flag or predefined role sets\n2. Inject role into system prompt per provider\n3. Example roles: security-auditor, performance-optimizer, maintainability-advocate, devil's-advocate\n\n### Usage\n```bash\n/claude-council:ask --roles=\"security,performance,maintainability\" \"Review this auth implementation\"\n```\n\n### Predefined Role Sets\n- `balanced`: security, performance, maintainability (default)\n- `security-focused`: security-auditor, pentester, compliance\n- `architecture`: scalability, maintainability, simplicity\n\n### Value\n- Ensures multiple concerns are explicitly addressed\n- Prevents groupthink across providers\n- More comprehensive coverage of trade-offs","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T10:00:38.913013+02:00","updated_at":"2025-12-18T10:58:33.297656+02:00","closed_at":"2025-12-18T10:58:33.297656+02:00","close_reason":"Added --roles flag with 8 personas and 4 presets"}
